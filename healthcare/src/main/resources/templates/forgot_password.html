<!DOCTYPE html>
<html lang="en" th:replace="base::layout(~{::section})">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<section>
    <!--        Input Mail and Send OTP -->
    <div class="container" th:if="${sendOtpDiv == true}">
        <div class="row ">
            <div class="col-md-6 offset-md-3">
                <div class="my-card mt-4 mb-3 p-5 rounded-3">
                    <form th:action="@{/send-otp}">
                        <div class="text-center mb-4">
                            <h4>Forgot your password?</h4>
                            <p class="pt-1">Enter your email address, and we will send you an OTP to your
                                email.</p>
                            <div class="pt-1 pb-1 px-3 rounded-3 alert alert-danger text-center"
                                 th:if="${accountDisabled == true}">
                                You Can't Change Password. Your Account Has Been Disabled By Our Administrator. If You
                                Think It's Wrong Then Please
                                Contact DoctorsCareMail@gmail.com .
                            </div>
                            <div class="pt-1 pb-1 px-3 rounded-3 alert alert-warning text-center"
                                 th:if="${accountNotVerified == true}">
                                You Can't Change Password! Your Account is Not Verified yet. Please Check Your Email and
                                Verify Your Account.
                            </div>
                            <div class="pt-1 pb-1 px-3 rounded-3 alert alert-danger text-center"
                                 th:if="${invalidEmail == true}">
                                Invalid Email. No account exists with this email! Please give correct email address to
                                change your password.
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="form-label-group pb-2">
                                <label class="form-label">Email Address</label>
                                <input type="email" name="email" class="form-control"
                                       placeholder="Enter email address" required="required" autofocus="autofocus">
                            </div>
                        </div>
                        <div class="d-grid mt-3 pb-3">
                            <button class="btn btn-primary">Send OTP</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>


    <!--        OTP Check -->
    <div class="container" th:if="${verifyOtpDiv == true}">
        <div class="row ">
            <div class="col-md-6 offset-md-3">
                <div class="my-card mt-4 mb-3 p-5 rounded-3">
                    <form th:action="@{/verify-otp}">
                        <div class="text-center mb-4">
                            <h4>Enter The OTP</h4>
                            <div class="alert alert-success" th:if="${OTPNotMatch != true}">
                                <p>We Have Sent An OTP to your email. Please enter it.</p>
                            </div>
                            <div class="alert alert-danger" th:if="${OTPNotMatch == true}">
                                <p>OTP Doesn't Match. Please try again.</p>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="form-label-group pb-2">
                                <label class="form-label">OTP Code</label>
                                <input name="OTP" class="form-control"
                                       placeholder="Enter OTP Code" required="required" autofocus="autofocus">
                            </div>
                        </div>
                        <div class="d-grid mt-3 pb-3">
                            <button class="btn btn-primary">Submit</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>


    <!--        Change Password -->
    <div class="container" th:if="${changePasswordDiv == true}">
        <div class="row">
            <div class="col-md-6 offset-md-3">
                <div class="my-card mt-4 mb-3 p-5 rounded-3">
                    <form th:action="@{/change-password}" method="post">
                        <div class="text-center mb-4">
                            <h4>Change Password</h4>
                            <p class="pt-1">Please Change Your Password.</p>
                        </div>
                        <div class="alert alert-success text-center" th:if="${passwordChanged == true}">
                            <p>Password Changed Successfully. Please Login.</p>
                        </div>
                        <div class="alert alert-danger text-center" th:if="${passwordChanged == false}">
                            <p>Password Doesn't Match. Please try again.</p>
                        </div>
                        <div class="form-group">
                            <div class="form-label-group pb-2">
                                <label class="form-label">New Password</label>
                                <input name="newPassword" type="password" class="form-control"
                                       placeholder="New Password" required="required" autofocus="autofocus">
                            </div>
                            <div class="form-label-group pb-2">
                                <label class="form-label">Confirm Password</label>
                                <input name="confirmPassword" type="password" class="form-control"
                                       placeholder="Confirm Password" required="required" autofocus="autofocus">
                            </div>
                        </div>
                        <div class="d-grid mt-3 pb-3">
                            <button class="btn btn-primary">Confirm</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>


</section>
</body>
</html>